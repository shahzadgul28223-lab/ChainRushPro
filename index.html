<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChainRush-Pro | Decentralized</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/web3/1.8.1/web3.min.js"></script>
    <style>
        :root { --gold: #f3ba2f; --blue: #38bdf8; --bg: #0b0e11; --card: #1e2329; --green: #2ecc71; }
        body { background: var(--bg); color: white; font-family: 'Segoe UI', sans-serif; margin: 0; padding-bottom: 50px; }
        .header { background: linear-gradient(180deg, #1e40af, #0b0e11); padding: 30px; text-align: center; border-bottom: 3px solid var(--gold); }
        .plan-card { background: var(--card); padding: 30px 15px; border-radius: 15px; text-align: center; border: 1px solid #333; position: relative; overflow: hidden; margin: 10px; }
        
        /* کلر فل واٹر مارک */
        .plan-card::after { 
            content: "ChainRush-Pro Decentralized"; 
            position: absolute; top: 40%; left: -10%; width: 120%;
            font-size: 14px; font-weight: bold; opacity: 0.2;
            background: linear-gradient(45deg, #f3ba2f, #38bdf8, #2ecc71);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            transform: rotate(-25deg); pointer-events: none;
        }

        .panel { background: #161a1e; margin: 15px; padding: 20px; border-radius: 15px; border: 2px solid var(--gold); }
        .btn { width: 100%; padding: 12px; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; margin-top: 10px; }
        .btn-blue { background: var(--blue); color: white; }
        .btn-gold { background: var(--gold); color: black; }
        input, select { width: 100%; padding: 12px; margin-top: 10px; border-radius: 8px; background: #000; border: 1px solid #444; color: white; box-sizing: border-box; }
        #notify-toast { position: fixed; top: 10px; left: 50%; transform: translateX(-50%); z-index: 10000; background: #1e40af; border: 1px solid var(--gold); padding: 10px 20px; border-radius: 20px; display: none; font-size: 12px; box-shadow: 0 0 15px var(--gold); }
    </style>
</head>
<body>

<div id="notify-toast">Notification...</div>

<div class="header">
    <h2 style="margin:0;">ChainRush Pro</h2>
    <div id="display-id" style="font-size: 18px; color: var(--gold); margin-top:10px;">Login Required</div>
    <button id="conn-btn" onclick="connect()" class="btn btn-blue" style="width:auto; padding: 10px 25px;">Connect Wallet</button>
</div>

<div id="admin-panel" class="panel" style="display:none;">
    <h3 style="color:var(--gold); margin:0;">Master Admin Control</h3>
    <input type="text" id="search-id" placeholder="Enter Member ID to Search">
    <select id="gift-lvl">
        <option value="all">Full Upgrade (1-12)</option>
        <option value="1">Level 1</option><option value="2">Level 2</option>
    </select>
    <button onclick="gift()" class="btn btn-gold">Give Free Plan</button>
</div>

<div class="panel">
    <h3 style="margin:0; font-size:16px;">Team Report (24 Levels)</h3>
    <div style="display:flex; gap:10px; margin-top:10px;">
        <button onclick="loadTeam('direct')" class="btn-blue" style="flex:1; padding:8px; border-radius:5px; border:none; cursor:pointer;">Directs</button>
        <button onclick="loadTeam('indirect')" class="btn-gold" style="flex:1; padding:8px; border-radius:5px; border:none; cursor:pointer;">Downline</button>
    </div>
    <div id="team-list" style="margin-top:15px; font-size:13px; color:#aaa; max-height:150px; overflow-y:auto;">
        Connect wallet to see your team members.
    </div>
</div>

<div id="plan-container"></div>

<script>
    const OWNER_WALLET = "0x40642a42Eb9EDbf936C5DA1AE71E5d762A3B0f46";
    let myWallet = "";

    async function connect() {
        if (window.ethereum) {
            const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
            myWallet = accounts[0].toLowerCase();
            document.getElementById('conn-btn').innerText = "Connected";
            
            // ایڈمن چیک
            if(myWallet === OWNER_WALLET.toLowerCase()) {
                document.getElementById('admin-panel').style.display = "block";
                document.getElementById('display-id').innerText = "ID: 4510 (OWNER)";
            } else {
                document.getElementById('display-id').innerText = "ID: " + (parseInt(myWallet.substring(2,6), 16));
            }
            toast("Wallet Connected Successfully!");
        }
    }

    function loadTeam(type) {
        const list = document.getElementById('team-list');
        list.innerHTML = "Fetching 24 levels data...";
        // یہاں ٹیم کی لسٹ شو ہوگی
        setTimeout(() => {
            list.innerHTML = "ID: 59571 | Level: 1 | Wallet: 0x0E16...<br>ID: 60210 | Level: 4 | Wallet: 0x33B2...";
        }, 1000);
    }

    function toast(txt) {
        const b = document.getElementById('notify-toast');
        b.innerText = txt; b.style.display = "block";
        setTimeout(() => b.style.display = "none", 4000);
    }

    // رینڈم نوٹیفکیشن ہر 4 سیکنڈ بعد
    setInterval(() => {
        const alerts = ["ID 4510 gifted Plan 12!", "New Member ID 6210 Joined!", "ID 59571 Upgraded to Level 2!"];
        if(myWallet) toast(alerts[Math.floor(Math.random()*alerts.length)]);
    }, 4000);

    // لیولز بنانا
    const prices = [30, 60, 120, 240, 480, 960, 1920, 3840, 7680, 15360, 30720, 61440];
    const container = document.getElementById('plan-container');
    prices.forEach((p, i) => {
        container.innerHTML += `
            <div class="plan-card">
                <h3>Level ${i+1}</h3>
                <p style="color:var(--gold); font-size:22px;">$${p}</p>
                <button class="btn btn-gold">Activate</button>
            </div>`;
    });
</script>
</body>
</html>
